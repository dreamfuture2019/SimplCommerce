@model SimplCommerce.Module.Orders.Areas.Orders.ViewModels.DeliveryInformationVm

@{
    ViewBag.Title = "Shipping Information";
}

<div class="row">
    <div class="col-md-12"><div class="cart-title"><h1>Xác nhận - thanh toán</h1></div></div>
    <div class="col-md-12 col-lg-6">
        <div class=" add-ship">
            <div class="title-order">
                <img src="/themes/SampleTheme/Address.svg">
                <span>@Localizer["Shipping address"]</span>
            </div>  
            <form asp-area="Orders" asp-controller="Checkout" asp-action="Shipping" method="POST" id="checkout-delivery-address" style="padding: 0 10px">
                          
                @foreach (var address in Model.ExistingShippingAddresses)
                {
                    <div class="radio">
                        <label>
                            <input type="radio" name="ShippingAddressId" value="@address.UserAddressId" checked="@(Model.ShippingAddressId == address.UserAddressId ? "checked" : null)">
                            <strong>@address.ContactName </strong><br />
                            @address.AddressLine1 <br />
                            @address.AddressLine2 <br />
                            Phone: @address.Phone
                        </label>
                    </div>
                }
                <div class="radio">
                    <label>
                        <input type="radio" name="ShippingAddressId" checked="@(Model.ShippingAddressId == 0 ? "checked" : null)" value="0" />
                        @Localizer["Add another address"]
                    </label>
                </div>
                <div class="create-shipping-address collapse">
                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["Contact name"]</label>
                        <div class="col-sm-8">
                            <input asp-for="NewAddressForm.ContactName" type="text" class="form-control">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["Country"]</label>
                        <div class="col-sm-8">
                            <select asp-for="NewAddressForm.CountryId" asp-items="Model.NewAddressForm.ShipableContries" class="form-control">
                                <option value="">@Localizer["Choose one"]</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["State or Province"]</label>
                        <div class="col-sm-8">
                            <select asp-for="NewAddressForm.StateOrProvinceId" asp-items="Model.NewAddressForm.StateOrProvinces" class="form-control">
                                <option value="">@Localizer["Choose one"]</option>
                            </select>
                        </div>
                    </div>

                    <div id="form-group-district" class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["District"]</label>
                        <div class="col-sm-8">
                            <select asp-for="NewAddressForm.DistrictId" asp-items="Model.NewAddressForm.Districts" class="form-control">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>

                    <div id="form-group-city" class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["City"]</label>
                        <div class="col-sm-8">
                            <input asp-for="NewAddressForm.City" type="text" class="form-control">
                        </div>
                    </div>

                    <div id="form-group-postalcode" class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["Postal Code"]</label>
                        <div class="col-sm-8">
                            <input asp-for="NewAddressForm.ZipCode" type="text" class="form-control">
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["Address"]</label>
                        <div class="col-sm-8">
                            <input asp-for="NewAddressForm.AddressLine1" type="text" class="form-control">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label">@Localizer["Phone"]</label>
                        <div class="col-sm-8">
                            <input asp-for="NewAddressForm.Phone" type="text" class="form-control">
                        </div>
                    </div>
                </div>
            </form>
            
        </div>
        <!-- <h3>@Localizer["Shipping methods"]</h3>
                <div id="shippingMethods">
                    <p>Please choose your shipping address</p>
                </div> -->
            <div class="Bill-Address" style="margin-top: 15px">
                <div class="title-order">
                        <img src="/themes/SampleTheme/shipping.svg">
                        <span>@Localizer["Billing Address"]</span>
                    </div> 
                <div  style="padding: 0 10px">
                                   
                    <label>
                        <input type="checkbox" name="UseShippingAddressAsBillingAddress" checked="@(Model.UseShippingAddressAsBillingAddress ? "checked" : null)" value="true" />
                        @Localizer["Use Selected Shipping Address As Billing Address"]
                    </label>
                </div>
                <div class="change-billing-address collapse">
                    @foreach (var address in Model.ExistingShippingAddresses)
                    {
                        <div class="radio">
                            <label>
                                <input type="radio" name="BillingAddressId" value="@address.UserAddressId" checked="@(Model.BillingAddressId == address.UserAddressId ? "checked" : null)">
                                <strong>@address.ContactName </strong><br />
                                @address.AddressLine1 <br />
                                @address.AddressLine2 <br />
                                Phone: @address.Phone
                            </label>
                        </div>
                    }
                    <div class="radio">
                        <label>
                            <input type="radio" name="BillingAddressId" checked="@(Model.BillingAddressId == 0 ? "checked" : null)" value="0" />
                            @Localizer["Add another address"]
                        </label>
                    </div>
                    <div class="create-billing-address collapse">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["Contact name"]</label>
                            <div class="col-sm-8">
                                <input asp-for="NewBillingAddressForm.ContactName" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["Country"]</label>
                            <div class="col-sm-8">
                                <select asp-for="NewBillingAddressForm.CountryId" asp-items="Model.NewAddressForm.ShipableContries" class="form-control">
                                    <option value="">@Localizer["Choose one"]</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["State or Province"]</label>
                            <div class="col-sm-8">
                                <select asp-for="NewBillingAddressForm.StateOrProvinceId" asp-items="Model.NewAddressForm.StateOrProvinces" class="form-control">
                                    <option value="">@Localizer["Choose one"]</option>
                                </select>
                            </div>
                        </div>

                        <div id="form-group-district" class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["District"]</label>
                            <div class="col-sm-8">
                                <select asp-for="NewBillingAddressForm.DistrictId" asp-items="Model.NewAddressForm.Districts" class="form-control">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <div id="form-group-city" class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["City"]</label>
                            <div class="col-sm-8">
                                <input asp-for="NewBillingAddressForm.City" type="text" class="form-control">
                            </div>
                        </div>

                        <div id="form-group-postalcode" class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["Postal Code"]</label>
                            <div class="col-sm-8">
                                <input asp-for="NewBillingAddressForm.ZipCode" type="text" class="form-control">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">@Localizer["Address"]</label>
                            <div class="col-sm-8">
                                <input asp-for="NewBillingAddressForm.AddressLine1" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-group row" style="    padding-bottom: 10px;">
                            <label class="col-sm-4 col-form-label">@Localizer["Phone"]</label>
                            <div class="col-sm-8">
                                <input asp-for="NewBillingAddressForm.Phone" type="text" class="form-control">
                            </div>
                        </div>
                    </div>
                </div>
            </div>         
    </div>
    <div class="col-md-12 col-lg-6 all-order-pay">
        <div class="all-order-content">
            @await Component.InvokeAsync("OrderSummary")            
        </div>
        <div class="text-right" style="margin-bottom: 20px">
                <div class="form-group">
                    <div class="text-right">
                        <button type="submit" class="btn btn-order" disabled style=" height: 48px; border-radius: 3px; font-size: 20px; font-weight: 500; width: 100%;">@Localizer["Thanh toán"]</button>
                    </div>
                </div>
                <form asp-area="Order" asp-controller="Checkout" asp-action="Cancel" method="post" id="logoutForm" class="">
                    <button type="submit" class="btn btn-secondary active ">@Localizer["Huỷ & Tiếp tục mua hàng"]</button>
                </form>
        </div>
    </div>
</div>

@section scripts {
    <partial name="_ValidationScriptsPartial" />
    <script simpl-append-version="true" src="~/modules/orders/checkout.js"></script>
}
